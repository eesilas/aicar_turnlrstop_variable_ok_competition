<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="$WuyN0)M2d:-lg2FnOnx">FORWARD_SPEED</variable><variable id="#Fqf|`mH5P**wE.WN[?q">STOP_SPEED</variable><variable id="{nWc*,|2(Ee@2L=8{Vsj">state</variable><variable id="_3MF4UULVNf::/JWr~A?">currentTag</variable><variable id="(s,uWcs]|Jw3`J8:B)8D">lastTag</variable><variable id="9_0`Hm-:aNWU/S3o10/v">tagCount</variable><variable id="@{TBf!a#!`Je_-^8HIr!">TAG_STABILITY_COUNT</variable><variable id="fTcMiL|L|.l26fkpgqk6">FORWARD_DURATION</variable><variable id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</variable><variable id="?$+!G38m!|WZx/w`H,SJ">LOOP_INTERVAL</variable></variables><comment id="71@ncDFkRpOqpexJP5{M" x="0" y="2346" w="191" h="120">
狀態機：0=等待，1=前進，2=轉彎
</comment><block type="pxt-on-start" id="/Da6X;M|UzUBKfwc~+U?" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="|o?67J(_pUeB$N!F`=do"><field name="VAR" id="$WuyN0)M2d:-lg2FnOnx">FORWARD_SPEED</field><comment pinned="false" h="80" w="160">電機速度常數
前進速度</comment><value name="VALUE"><shadow type="math_number" id="Ze%chmR^gm0#VNsIJ0JS"><field name="NUM">150</field></shadow></value><next><block type="variables_set" id="KHir:~5]*?BS(dF?3hn("><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field><comment pinned="false" h="80" w="160">停止速度
轉彎持續時間</comment><value name="VALUE"><shadow type="math_number" id="oB^E|1|ReiI=)475nN|n"><field name="NUM">1000</field></shadow></value><next><block type="variables_set" id="RPj(]]*-*4P)1m4@#YYK"><field name="VAR" id="fTcMiL|L|.l26fkpgqk6">FORWARD_DURATION</field><comment pinned="false" h="80" w="160">前進持續時間（毫秒）</comment><value name="VALUE"><shadow type="math_number" id="v|gaj-v/bs2!O:52Fe=e"><field name="NUM">1000</field></shadow></value><next><block type="variables_set" id="sccC[]r$nk*w;z|quYe?"><field name="VAR" id="?$+!G38m!|WZx/w`H,SJ">LOOP_INTERVAL</field><comment pinned="false" h="80" w="160">主循環刷新間隔（毫秒）</comment><value name="VALUE"><shadow type="math_number" id="f:$J%7LbN#iUT^t-(HBm"><field name="NUM">1000</field></shadow></value><next><block type="variables_set" id="Ugb`]lY#%HqI}6WVB;=u"><field name="VAR" id="@{TBf!a#!`Je_-^8HIr!">TAG_STABILITY_COUNT</field><comment pinned="false" h="80" w="160">標籤連續檢測次數</comment><value name="VALUE"><shadow type="math_number" id="[(8^[K0MrIQ||%kYdZyP"><field name="NUM">2</field></shadow></value><next><block type="basic_show_icon" id="3/W9B;GXfKgY=%=7RE%b"><field name="i">IconNames.Yes</field><comment pinned="false" h="80" w="160">初始化
顯示"對勾"表示初始化成功</comment><next><block type="huskylens_initI2c" id="ZJwDv0Pm`Pn?|qni?*(o"><comment pinned="false" h="80" w="160">初始化Huskylens的I2C通信</comment><next><block type="huskylens_writeName" id="[]T|n(z{;sa8gtdgJGM5"><comment pinned="false" h="80" w="160">設置標籤名稱</comment><value name="id"><shadow type="math_number" id="cnDQgU@WsJy@l{`2_99o"><field name="NUM">1</field></shadow></value><value name="name"><shadow type="text" id="L7LA@XO03`*G}6,KXbdy"><field name="TEXT">Forward</field></shadow></value><next><block type="huskylens_writeName" id="s*#eF9qDPfA!qzBlP]0("><comment pinned="false" h="80" w="160">原地左轉90度</comment><value name="id"><shadow type="math_number" id="vT1[Cp#jw;,Rs@(#.0`@"><field name="NUM">2</field></shadow></value><value name="name"><shadow type="text" id="*oxpo.M{(Xwo3_{6blvO"><field name="TEXT">Turn Left</field></shadow></value><next><block type="huskylens_writeName" id="B:uXK[l^g%N|7-+ZI).B"><comment pinned="false" h="80" w="160">原地右轉90度</comment><value name="id"><shadow type="math_number" id="Mc,.aQ8`.}7Q=-4?^f7f"><field name="NUM">3</field></shadow></value><value name="name"><shadow type="text" id="[btw+7#,Ge!O_*G:wn@K"><field name="TEXT">Turn Right</field></shadow></value><next><block type="controls_if" id="@:M(@zM95~T)|kqs;Qu["><data>{"commentRefs":[],"fieldData":{}}</data><value name="IF0"><shadow type="logic_boolean" id="s~waYDL#EU1981{j;r.?"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="SAk^p1([nC3Xs0k)a[h,"><value name="BOOL"><shadow type="logic_boolean" id="](f+GgJK+o0Fu5J,D(`n"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="Q^NazpS@YB:E[AYfd6Jd"><field name="EXPRESSION">huskylens.initMode(protocolAlgorithm.OBJECTCLASSIFICATION)</field></block></value></block></value><statement name="DO0"><block type="function_call" id="iMIOGG{}Vfy|Q#O$qizb"><mutation name="showError" functionid="+Eh,d!mi2$;M;O0F)BN?"></mutation><comment pinned="false" h="80" w="160">初始化失敗，顯示錯誤並停止</comment><next><block type="typescript_statement" id="kJ~X-.OE:D$=THYw-N`x"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="basic.forever(() =&gt; { });" numlines="1"></mutation><comment pinned="false" h="80" w="160">進入空循環，停止程序</comment></block></next></block></statement><next><block type="variables_set" id="jh#}@LZ)0.L{53fgpL:$"><field name="VAR" id="(s,uWcs]|Jw3`J8:B)8D">lastTag</field><comment pinned="false" h="80" w="160">連續檢測計數器
上次檢測的標籤ID</comment><value name="VALUE"><shadow type="math_number" id="@@,qVj8.6elz6D35z?W{"><field name="NUM">-1</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="q{L#LHmVQbD%i]i!)nck" x="746" y="40"><field name="NAME">Button.A</field><comment pinned="false" h="80" w="160">校準按鈕（用於調整轉彎時間）</comment><statement name="HANDLER"><block type="variables_change" id="~LzRu~Hl;y4cx*$D=;f_"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field><value name="VALUE"><shadow type="math_number" id="a`nFaU}n(q/w/N1?Qp#D"><field name="NUM">50</field></shadow></value><next><block type="device_show_number" id="6kQl[dw|H!_oFO%j_NUd"><value name="number"><block type="variables_get" id="TG%g,bAMBfh(F.5OO{;h"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field></block></value><next><block type="device_clear_display" id="}8c|ynC%^g#hZ}Y}5fw-"></block></next></block></next></block></statement></block><block type="device_button_event" id="uK?3|uT}t9Lt|B5?4hJy" x="1206" y="37"><field name="NAME">Button.AB</field><statement name="HANDLER"><block type="function_call" id="uKFWAFj5^O1YkquZ*r3!"><mutation name="turnLeft" functionid="?|-~$Q0TUT+9;hSk%;1g"><arg name="duration" id="pr293nj37f0enesamhrw3o" type="number"></arg></mutation><comment pinned="false" h="80" w="160">測試左轉</comment><value name="pr293nj37f0enesamhrw3o"><shadow type="math_number" id="NzwIODpIN[na$1(mFn$^"><field name="NUM">1</field></shadow><block type="variables_get" id="|+%9GRlvbE[!phOlL]HU"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field></block></value><next><block type="device_pause" id="z(O[69.~#O2c)~yst_yr"><data>{"commentRefs":[],"fieldData":{}}</data><value name="pause"><shadow type="timePicker" id="D1^4~@S.3{B}T^+,j#[+"><field name="ms">1000</field></shadow></value><next><block type="function_call" id="|OR#b{mi6{gF2`g+L6d["><mutation name="turnRight" functionid="}|CY6gfa8V@Nfeb0*OGH"><arg name="duration" id="8a9ci55145fvbqqb274zll" type="number"></arg></mutation><comment pinned="false" h="80" w="160">測試右轉</comment><value name="8a9ci55145fvbqqb274zll"><shadow type="math_number" id="_55ikhW7G)dcEHh-i$s8"><field name="NUM">1</field></shadow><block type="variables_get" id="W17`%Ml_7g2}[E_$puPA"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field></block></value></block></next></block></next></block></statement></block><block type="device_forever" id="g%C4@TT-W/5lW!3jN!N!" x="1612" y="47"><comment pinned="false" h="80" w="160">上次檢測的標籤ID
主循環</comment><statement name="HANDLER"><block type="huskylens_request" id="lX]?Xe%+;7!o.9vxO|gt"><comment pinned="false" h="80" w="160">獲取Huskylens數據</comment><next><block type="controls_if" id="4cRUi0UB1dF@,jIbn$Az"><mutation elseif="2"></mutation><comment pinned="false" h="80" w="160">狀態機邏輯</comment><value name="IF0"><shadow type="logic_boolean" id="E[(xqC/jr4$unet2rw9o"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="*v3vmo$B/)X0qXU+ymzW"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="dKj#5UyJ^*ZRWp%t[B:d"><field name="NUM">0</field></shadow><block type="variables_get" id="MC$?73H(,OG6!m;WpjD("><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field></block></value><value name="B"><shadow type="math_number" id="S:g(#@Q%3dnbbWmlyuVF"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="typescript_statement" id="HG:]]:;:11D=:+p^!8pK"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let currentTag = huskylens.isAppear(1, HUSKYLENSResultType_t.HUSKYLENSResultBlock) ? 1 :" line1="            huskylens.isAppear(2, HUSKYLENSResultType_t.HUSKYLENSResultBlock) ? 2 :" line2="                huskylens.isAppear(3, HUSKYLENSResultType_t.HUSKYLENSResultBlock) ? 3 : -1;" numlines="3" declaredvars="currentTag"></mutation><next><block type="controls_if" id="Z.RdAH4G)1`([k#3C92C"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">檢查標籤穩定性</comment><value name="IF0"><shadow type="logic_boolean" id="X?$y|^rPKK=2]pCWd:ua"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="r%!H`:gKwv1Q:aBrl_FT"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="O0}:7;@SR-1Z8oRB3q7p"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="w~C;AS6R/*l%PGs!QA1("><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="?|W+B^?u(%hfZ$%A)AGE"><field name="NUM">0</field></shadow><block type="variables_get" id="9q~}V7J,(^=C`GCtZ6n)"><field name="VAR" id="_3MF4UULVNf::/JWr~A?">currentTag</field></block></value><value name="B"><shadow type="math_number" id="%xqO;WhAhxehNx1=#dV_"><field name="NUM">0</field></shadow><block type="variables_get" id="Hs]|._p`sCl_d$@2BQ?:"><field name="VAR" id="(s,uWcs]|Jw3`J8:B)8D">lastTag</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="J#CjnFe8%{ExFZU~T-3N"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="IJK^0+bkd++p0d^|A:!6"><field name="OP">NEQ</field><value name="A"><shadow type="math_number" id="$%UV8I;%%(G8681g6Q!M"><field name="NUM">0</field></shadow><block type="variables_get" id="*w3;:VGJ[d3y46]]-hoy"><field name="VAR" id="_3MF4UULVNf::/JWr~A?">currentTag</field></block></value><value name="B"><shadow type="math_number" id="L=tU38geW7Y2m]_T-pD:"><field name="NUM">-1</field></shadow></value></block></value></block></value><statement name="DO0"><block type="variables_change" id="@=Oi7;;]9Y2yl`~C/8D,"><field name="VAR" id="9_0`Hm-:aNWU/S3o10/v">tagCount</field><value name="VALUE"><shadow type="math_number" id="KqBlq3fvLMM[LdPg2WSL"><field name="NUM">1</field></shadow></value><next><block type="controls_if" id="ck2}|l4UAycn%?E,^O.:"><value name="IF0"><shadow type="logic_boolean" id="rwE.vC@/%HwA=v9{spW9"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="oV.sx?Yo|4nfF[Tk4#8$"><field name="OP">GTE</field><value name="A"><shadow type="math_number" id="29b,Q8VlEhT]hKfxdcn4"><field name="NUM">0</field></shadow><block type="variables_get" id="^l]8Z_{_nh?q7Uw8.Y1Y"><field name="VAR" id="9_0`Hm-:aNWU/S3o10/v">tagCount</field></block></value><value name="B"><shadow type="math_number" id="Uq^2`3znkeZ5^/{~Knt9"><field name="NUM">0</field></shadow><block type="variables_get" id="8y6][K5O~=?f=1t~yrPO"><field name="VAR" id="@{TBf!a#!`Je_-^8HIr!">TAG_STABILITY_COUNT</field></block></value></block></value><statement name="DO0"><block type="controls_if" id="j+F8c|2ai.qor(nOIy|M"><mutation elseif="2"></mutation><comment pinned="false" h="80" w="160">穩定檢測到標籤，執行對應動作</comment><value name="IF0"><shadow type="logic_boolean" id="~GL2{E8VA:SC}!CP$LFj"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="n9USGHfC58|y#CtMXK9*"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="wH+n{LB?|M6e^C0#$29F"><field name="NUM">0</field></shadow><block type="variables_get" id="mJxOXX5MOFD|`A`=_|qr"><field name="VAR" id="_3MF4UULVNf::/JWr~A?">currentTag</field></block></value><value name="B"><shadow type="math_number" id="09dK|3B2K4MzNnWI:gYy"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="mepgB)yRdKWVec]ZWDne"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field><value name="VALUE"><shadow type="math_number" id="fJ8).W7N#)?pWiy(ICaY"><field name="NUM">1</field></shadow></value><next><block type="function_call" id="4H~~YHW8$^_F0ztU{r2d"><mutation name="moveForward" functionid="TrL?^A`EcTR*v[n9@^`H"><arg name="duration" id="m26gchjybkr37kmptjmuj" type="number"></arg></mutation><comment pinned="false" h="80" w="160">前進1秒並停止</comment><value name="m26gchjybkr37kmptjmuj"><shadow type="math_number" id="gng?DO{354$.yjt-/#|L"><field name="NUM">1</field></shadow><block type="variables_get" id="mAm(ilLpWG(nAofi5]Sc"><field name="VAR" id="fTcMiL|L|.l26fkpgqk6">FORWARD_DURATION</field></block></value></block></next></block></statement><value name="IF1"><shadow type="logic_boolean" id="^;0}tS~3?ArCDgq`k_*1"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="qbrbxWolk0r}u,H?O^EC"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="Ms-wJ25r=y!j8vs/UD=g"><field name="NUM">0</field></shadow><block type="variables_get" id="q5=y9BeW)h[Y?;c[kQRO"><field name="VAR" id="_3MF4UULVNf::/JWr~A?">currentTag</field></block></value><value name="B"><shadow type="math_number" id="*[|367aWA|#f_y1ZKg`0"><field name="NUM">2</field></shadow></value></block></value><statement name="DO1"><block type="variables_set" id="60lKGJ_=/8Vvppt~GmtB"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field><value name="VALUE"><shadow type="math_number" id="p]*xR$PR@2,?/U]UaU+B"><field name="NUM">2</field></shadow></value><next><block type="function_call" id="lNMsaDWWlI*cyWOI^|Uh"><mutation name="turnLeft" functionid="?|-~$Q0TUT+9;hSk%;1g"><arg name="duration" id="pr293nj37f0enesamhrw3o" type="number"></arg></mutation><comment pinned="false" h="80" w="160">原地左轉90度並停止</comment><value name="pr293nj37f0enesamhrw3o"><shadow type="math_number" id="x)3{7?z^-k!tBoO?=.=g"><field name="NUM">1</field></shadow><block type="variables_get" id="Q*r2D3`J7+QDq_U:(`vm"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field></block></value></block></next></block></statement><value name="IF2"><shadow type="logic_boolean" id="T~yk#tp/4}QOXs_TKnMI"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="2R!aQc#%5@%XR*1GyvhX"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="3XGug/TKSTKTjmr/)l$c"><field name="NUM">0</field></shadow><block type="variables_get" id="~zRuaq:#eo#T8f+;)^Xr"><field name="VAR" id="_3MF4UULVNf::/JWr~A?">currentTag</field></block></value><value name="B"><shadow type="math_number" id="Ij5gLfGcJhKN1?rT5P*L"><field name="NUM">3</field></shadow></value></block></value><statement name="DO2"><block type="variables_set" id="Ze0zZ%g7:k=_ibs=g)]u"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field><value name="VALUE"><shadow type="math_number" id="Bfwwzjd9]@7{)XXP/OEt"><field name="NUM">2</field></shadow></value><next><block type="function_call" id="l=VC6D30;u]8SFls7nQ5"><mutation name="turnRight" functionid="}|CY6gfa8V@Nfeb0*OGH"><arg name="duration" id="8a9ci55145fvbqqb274zll" type="number"></arg></mutation><comment pinned="false" h="80" w="160">原地右轉90度並停止</comment><value name="8a9ci55145fvbqqb274zll"><shadow type="math_number" id="u0t2p5GL{%k6,})B_,#?"><field name="NUM">1</field></shadow><block type="variables_get" id="Lue~u+R7!-O8VzQ?)D1l"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field></block></value></block></next></block></statement><next><block type="variables_set" id="-IT^M[7mhg|`}OKB+ILz"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field><comment pinned="false" h="80" w="160">返回等待狀態</comment><value name="VALUE"><shadow type="math_number" id="b!^vSHbx2I?7{`U/+{Z!"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="$Xgb7,QknJm@M:ubfZdL"><field name="VAR" id="9_0`Hm-:aNWU/S3o10/v">tagCount</field><comment pinned="false" h="80" w="160">重置計數器</comment><value name="VALUE"><shadow type="math_number" id="|6]BJXl5n:ZJWS^|C67M"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="!`6(-BJ$Ejr2~*7?yU5)"><field name="VAR" id="(s,uWcs]|Jw3`J8:B)8D">lastTag</field><comment pinned="false" h="80" w="160">重置標籤</comment><value name="VALUE"><shadow type="math_number" id=")g6^Hud,tU,4Lq`ML$k`"><field name="NUM">-1</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></statement><statement name="ELSE"><block type="variables_set" id="~wsumb;w5y2]p$NF7V_."><field name="VAR" id="9_0`Hm-:aNWU/S3o10/v">tagCount</field><comment pinned="false" h="80" w="160">新標籤，計數從1開始</comment><value name="VALUE"><shadow type="math_number" id="NpRN8`xFqtZY{lJ9MCA#"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="ZxX=zdf#1vhI98N]3A9d"><field name="VAR" id="(s,uWcs]|Jw3`J8:B)8D">lastTag</field><data>{"commentRefs":[],"fieldData":{}}</data><value name="VALUE"><shadow type="math_number" id="yI{otoDe~](~ht-G6~0s"><field name="NUM">0</field></shadow><block type="variables_get" id="6nF;AE0hfRe(pfo`C~Rt"><field name="VAR" id="_3MF4UULVNf::/JWr~A?">currentTag</field></block></value><next><block type="function_call" id="en/OEgs2{K)NVQ+u)w_X"><mutation name="stop" functionid="?4+eAizuu$sFlr]hLKqA"></mutation><comment pinned="false" h="80" w="160">未穩定檢測，保持停止</comment></block></next></block></next></block></statement></block></next></block></statement><value name="IF1"><shadow type="logic_boolean" id="krfD1P(Wg/o1gv1|/5b:"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="jV#TpaF%y=|6BOxGot`:"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="%^F^^f:b0d(A]#)ydS3L"><field name="NUM">0</field></shadow><block type="variables_get" id=";tnGeaoHK_hVn/-bl8Ht"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field></block></value><value name="B"><shadow type="math_number" id="{wsd=Xf!t(YRi%{.SIn$"><field name="NUM">1</field></shadow></value></block></value><statement name="DO1"><block type="variables_set" id="T+%.%Bw-X;$A6dB*{5gB"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field><comment pinned="false" h="80" w="160">前進狀態在moveForward中完成，立即返回狀態0</comment><value name="VALUE"><shadow type="math_number" id="u)OLON[`H4z9eS~YG?_J"><field name="NUM">0</field></shadow></value></block></statement><value name="IF2"><shadow type="logic_boolean" id="HXf4.@2eS/]#K6CGF,MO"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="4_uPnHeO}R|-Dg_?aT,f"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="IWpBC!KDXvs{dt]q@LA:"><field name="NUM">0</field></shadow><block type="variables_get" id="u5Mu4)j{M8W4RCWl|0E+"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field></block></value><value name="B"><shadow type="math_number" id="9]5|pgD^k;RbNZcTDjD-"><field name="NUM">2</field></shadow></value></block></value><statement name="DO2"><block type="variables_set" id="Dy$]-P$}Ci^C2T5zz[#V"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field><comment pinned="false" h="80" w="160">轉彎狀態在turnLeft或turnRight中完成，立即返回狀態0</comment><value name="VALUE"><shadow type="math_number" id="(68JtJ1rn{,R=$+pIRU}"><field name="NUM">0</field></shadow></value></block></statement><next><block type="device_pause" id="Lo)+NVSMqO;fBP=/S~LE"><comment pinned="false" h="80" w="160">限制刷新頻率為每秒一次</comment><value name="pause"><shadow type="timePicker" id="$Ie/D[~eK0-LFN3d%J5S"><field name="ms">NaN</field></shadow><block type="variables_get" id="3JxMx:fpPc{wCih$W.Nq"><field name="VAR" id="?$+!G38m!|WZx/w`H,SJ">LOOP_INTERVAL</field></block></value></block></next></block></next></block></statement></block><block type="device_button_event" id="da}D_K~${ehyJEbPjSx+" x="761" y="375"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="variables_set" id=".#v7CI(.I;w+aVf0kRi("><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field><value name="VALUE"><shadow type="math_number" id="CM#?N6/7|{;9Pyaf9T.!"><field name="NUM">0</field></shadow><block type="math_op2" id="zB2p=o2G(6U{,3r:_xw!"><field name="op">max</field><value name="x"><shadow type="math_number" id="$UBrCJpHXZz|-)/RYGB7"><field name="NUM">100</field></shadow></value><value name="y"><block type="math_arithmetic" id="kpvh`F/HNm*b`T,*G,G,"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="@c1v-p@[Qp8B=!6|WaHr"><field name="NUM">0</field></shadow><block type="variables_get" id=".s6({4x1F@i9~./G:)ws"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field></block></value><value name="B"><shadow type="math_number" id="t#gkr%u)#PMFkKK@3CTq"><field name="NUM">50</field></shadow></value></block></value></block></value><next><block type="device_show_number" id="45cVxgZIeZj[2*q#U-_3"><value name="number"><block type="variables_get" id="JTfxne.j`lrHUo{(TYZL"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field></block></value><next><block type="device_clear_display" id="+{OeGq?{Q?~XMyPJnn9E"></block></next></block></next></block></statement></block><block type="function_definition" id="W5KTV7SNG72:7Y2g:E*6" x="0" y="1731"><mutation name="move" functionid="@cM}KgB3t*S;R92v2B_T"><arg name="m1Speed" id="bpeuarhfvp25ufrnennj" type="number"></arg><arg name="m2Speed" id="7uw55jww6jkktezwwdx0s" type="number"></arg><arg name="m3Speed" id="stfaf64isb17kb1d8esu" type="number"></arg><arg name="m4Speed" id="y30fci46a9wdhct1fqza" type="number"></arg></mutation><field name="function_name">move</field><comment pinned="false" h="80" w="160">標籤連續檢測次數
通用移動函數：控制四個電機的速度</comment><value name="bpeuarhfvp25ufrnennj"><block type="argument_reporter_number" id="Ix$9=A0IXJ*hqMPe|*}["><mutation duplicateondrag="true"></mutation><field name="VALUE">m1Speed</field></block></value><value name="7uw55jww6jkktezwwdx0s"><block type="argument_reporter_number" id="GOEtMV+0xz[LATmIjEEQ"><mutation duplicateondrag="true"></mutation><field name="VALUE">m2Speed</field></block></value><value name="stfaf64isb17kb1d8esu"><block type="argument_reporter_number" id=".0ykxh`ds6IEEYAY+6}="><mutation duplicateondrag="true"></mutation><field name="VALUE">m3Speed</field></block></value><value name="y30fci46a9wdhct1fqza"><block type="argument_reporter_number" id="Dh.DF}p.B9a22WVHk{9X"><mutation duplicateondrag="true"></mutation><field name="VALUE">m4Speed</field></block></value><statement name="STACK"><block type="SuperBit_MotorRunDual" id="P-vXDufuS;mNe1hxM+:%"><field name="motor1">SuperBit.enMotors.M1</field><field name="motor2">SuperBit.enMotors.M2</field><value name="speed1"><shadow type="math_number_minmax" id="`g`%8d3k^=c+PXQT@E7("><mutation min="-255" max="255" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="argument_reporter_number" id="2sy5QWh-/h3|FO,EU^j#"><field name="VALUE">m1Speed</field></block></value><value name="speed2"><shadow type="math_number_minmax" id="Qg}(%Zsq|}k!goO[oVg5"><mutation min="-255" max="255" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="argument_reporter_number" id="k~m[aC2MMFnFv}m-#qWk"><field name="VALUE">m2Speed</field></block></value><next><block type="SuperBit_MotorRunDual" id="~V}vFi2^%.3toShLf]cg"><field name="motor1">SuperBit.enMotors.M3</field><field name="motor2">SuperBit.enMotors.M4</field><value name="speed1"><shadow type="math_number_minmax" id="Na0|byD~bRNdBF/d[^U5"><mutation min="-255" max="255" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="argument_reporter_number" id="9BwC+_cmq$.3S8gkSC5s"><field name="VALUE">m3Speed</field></block></value><value name="speed2"><shadow type="math_number_minmax" id="kY?%dj9VF:PGfP8tbT::"><mutation min="-255" max="255" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="argument_reporter_number" id="_G=6yiF%VB=7|3Sk*qHF"><field name="VALUE">m4Speed</field></block></value></block></next></block></statement></block><block type="function_definition" id="7DTr)8O}_9`$KU-}@^tQ" x="654" y="1731"><mutation name="moveForward" functionid="TrL?^A`EcTR*v[n9@^`H"><arg name="duration" id="m26gchjybkr37kmptjmuj" type="number"></arg></mutation><field name="function_name">moveForward</field><comment pinned="false" h="80" w="160">前進：所有電機以正向速度運行指定時間</comment><value name="m26gchjybkr37kmptjmuj"><block type="argument_reporter_number" id="o;awV+r*wWYUVjKSMQa1"><mutation duplicateondrag="true"></mutation><field name="VALUE">duration</field></block></value><statement name="STACK"><block type="function_call" id="DNDm-M5x$^ESoSF?+N@B"><mutation name="move" functionid="@cM}KgB3t*S;R92v2B_T"><arg name="m1Speed" id="bpeuarhfvp25ufrnennj" type="number"></arg><arg name="m2Speed" id="7uw55jww6jkktezwwdx0s" type="number"></arg><arg name="m3Speed" id="stfaf64isb17kb1d8esu" type="number"></arg><arg name="m4Speed" id="y30fci46a9wdhct1fqza" type="number"></arg></mutation><value name="bpeuarhfvp25ufrnennj"><shadow type="math_number" id="EgNY](kT:=RC*G6?%}U5"><field name="NUM">1</field></shadow><block type="variables_get" id="GexPzZG;d`$Z#U6XwK35"><field name="VAR" id="$WuyN0)M2d:-lg2FnOnx">FORWARD_SPEED</field></block></value><value name="7uw55jww6jkktezwwdx0s"><shadow type="math_number" id="ekv2CPy9l.R[hKEK51nU"><field name="NUM">1</field></shadow><block type="variables_get" id="w(tBzRl8z|W$n=rdr?6V"><field name="VAR" id="$WuyN0)M2d:-lg2FnOnx">FORWARD_SPEED</field></block></value><value name="stfaf64isb17kb1d8esu"><shadow type="math_number" id="/!7oHnH!-]JH*NAgl[wX"><field name="NUM">1</field></shadow><block type="variables_get" id="eMpmT[#9,t+Nma*Y,;*a"><field name="VAR" id="$WuyN0)M2d:-lg2FnOnx">FORWARD_SPEED</field></block></value><value name="y30fci46a9wdhct1fqza"><shadow type="math_number" id="33qT5~*jMoPf3n3%$)[x"><field name="NUM">1</field></shadow><block type="variables_get" id="=^s|B|83kp1C:NZ71pm6"><field name="VAR" id="$WuyN0)M2d:-lg2FnOnx">FORWARD_SPEED</field></block></value><next><block type="device_show_leds" id="djQs!E9q{hnVlb+}Qz4H"><field name="LEDS">`
        . . # . . 
        . # # # . 
        # . # . # 
        . . # . . 
        . . # . .
        `</field><comment pinned="false" h="80" w="160">顯示前進圖標</comment><next><block type="device_pause" id="EK6vXJIzUv)Ff`7qrQDG"><comment pinned="false" h="80" w="160">持續指定時間</comment><value name="pause"><shadow type="timePicker" id="#14$Mxy80(OQho:.lW!y"><field name="ms">NaN</field></shadow><block type="argument_reporter_number" id="8rF8a$~0_nsv;.I@[Gyy"><field name="VALUE">duration</field></block></value><next><block type="function_call" id="Ex_r@s{]IZBW[oVc+|$x"><mutation name="stop" functionid="?4+eAizuu$sFlr]hLKqA"></mutation><comment pinned="false" h="80" w="160">停止</comment></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="DNn){LtBAL6o8wmEHeHx" x="1523" y="1731"><mutation name="turnLeft" functionid="?|-~$Q0TUT+9;hSk%;1g"><arg name="duration" id="pr293nj37f0enesamhrw3o" type="number"></arg></mutation><field name="function_name">turnLeft</field><comment pinned="false" h="80" w="160">左轉</comment><value name="pr293nj37f0enesamhrw3o"><block type="argument_reporter_number" id="a=lU[P@)it*}d--|$U12"><mutation duplicateondrag="true"></mutation><field name="VALUE">duration</field></block></value><statement name="STACK"><block type="function_call" id="wsv)fa:SV]!$tboE|jCq"><mutation name="move" functionid="@cM}KgB3t*S;R92v2B_T"><arg name="m1Speed" id="bpeuarhfvp25ufrnennj" type="number"></arg><arg name="m2Speed" id="7uw55jww6jkktezwwdx0s" type="number"></arg><arg name="m3Speed" id="stfaf64isb17kb1d8esu" type="number"></arg><arg name="m4Speed" id="y30fci46a9wdhct1fqza" type="number"></arg></mutation><comment pinned="false" h="80" w="160">手動插入速度值</comment><value name="bpeuarhfvp25ufrnennj"><shadow type="math_number" id="uS}yto!=Af(/v0E/j=|F"><field name="NUM">150</field></shadow></value><value name="7uw55jww6jkktezwwdx0s"><shadow type="math_number" id="txh)bh~xmXfQpPek+~)I"><field name="NUM">-200</field></shadow></value><value name="stfaf64isb17kb1d8esu"><shadow type="math_number" id="`GTh{OyLTW5w`z}UuFD%"><field name="NUM">150</field></shadow></value><value name="y30fci46a9wdhct1fqza"><shadow type="math_number" id="gUTcaf#S{Ylw7(]9Ygrh"><field name="NUM">150</field></shadow></value><next><block type="device_show_leds" id="?B7zb[Hr53;VT9RIIt2#"><field name="LEDS">`
        . . # . . 
        . # . . . 
        # # # # # 
        . # . . . 
        . . # . .
        `</field><comment pinned="false" h="80" w="160">顯示左轉圖標</comment><next><block type="device_pause" id="R7B$c$q?,c`qdwXqt=X5"><comment pinned="false" h="80" w="160">持續指定時間</comment><value name="pause"><shadow type="timePicker" id="dWB{twfI7)n/ZC%!5}=5"><field name="ms">NaN</field></shadow><block type="argument_reporter_number" id="S@SGTI;7d?*ED{)38xrd"><field name="VALUE">duration</field></block></value><next><block type="function_call" id="o30+pIT*wyzkV_HR1xx("><mutation name="stop" functionid="?4+eAizuu$sFlr]hLKqA"></mutation><comment pinned="false" h="80" w="160">停止</comment></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="WW6U^?Tl4pZB[7Nd2*@d" x="1963" y="1731"><mutation name="turnRight" functionid="}|CY6gfa8V@Nfeb0*OGH"><arg name="duration" id="8a9ci55145fvbqqb274zll" type="number"></arg></mutation><field name="function_name">turnRight</field><comment pinned="false" h="80" w="160">右轉</comment><value name="8a9ci55145fvbqqb274zll"><block type="argument_reporter_number" id="^ov`dL-1E]mql!6M,6ow"><mutation duplicateondrag="true"></mutation><field name="VALUE">duration</field></block></value><statement name="STACK"><block type="function_call" id="_1C#9dC5iJ{anLdVSj5e"><mutation name="move" functionid="@cM}KgB3t*S;R92v2B_T"><arg name="m1Speed" id="bpeuarhfvp25ufrnennj" type="number"></arg><arg name="m2Speed" id="7uw55jww6jkktezwwdx0s" type="number"></arg><arg name="m3Speed" id="stfaf64isb17kb1d8esu" type="number"></arg><arg name="m4Speed" id="y30fci46a9wdhct1fqza" type="number"></arg></mutation><comment pinned="false" h="80" w="160">手動插入速度值</comment><value name="bpeuarhfvp25ufrnennj"><shadow type="math_number" id="NyB9pUwoG{qKYTsl#p,9"><field name="NUM">150</field></shadow></value><value name="7uw55jww6jkktezwwdx0s"><shadow type="math_number" id="=RFq[[!b+rU,x/^9`7Ub"><field name="NUM">150</field></shadow></value><value name="stfaf64isb17kb1d8esu"><shadow type="math_number" id=";maH~YdNw^Oyh*SF;TxK"><field name="NUM">-200</field></shadow></value><value name="y30fci46a9wdhct1fqza"><shadow type="math_number" id="Ainwdz(VwpK2erQVt25_"><field name="NUM">150</field></shadow></value><next><block type="device_show_leds" id="x.;*rI3/w)P#gE0(`DDH"><field name="LEDS">`
        . . # . . 
        . . . # . 
        # # # # # 
        . . . # . 
        . . # . .
        `</field><comment pinned="false" h="80" w="160">顯示右轉圖標</comment><next><block type="device_pause" id="JTM66589YN.swLNwF?xS"><comment pinned="false" h="80" w="160">持續指定時間</comment><value name="pause"><shadow type="timePicker" id="C1CO8VIURHyUDp7rwoms"><field name="ms">NaN</field></shadow><block type="argument_reporter_number" id="36]k/@NI%JVwGex_Pf_1"><field name="VALUE">duration</field></block></value><next><block type="function_call" id="aFN?rN/^CS%zk4}s;WH%"><mutation name="stop" functionid="?4+eAizuu$sFlr]hLKqA"></mutation><comment pinned="false" h="80" w="160">停止</comment></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="Vx4FKx=fCxG}k$:fj9.l" x="2402" y="1731"><mutation name="stop" functionid="?4+eAizuu$sFlr]hLKqA"></mutation><field name="function_name">stop</field><comment pinned="false" h="80" w="160">停止：所有電機速度設為0</comment><statement name="STACK"><block type="function_call" id="KAA:w85/F2CkriOxMsYj"><mutation name="move" functionid="@cM}KgB3t*S;R92v2B_T"><arg name="m1Speed" id="bpeuarhfvp25ufrnennj" type="number"></arg><arg name="m2Speed" id="7uw55jww6jkktezwwdx0s" type="number"></arg><arg name="m3Speed" id="stfaf64isb17kb1d8esu" type="number"></arg><arg name="m4Speed" id="y30fci46a9wdhct1fqza" type="number"></arg></mutation><value name="bpeuarhfvp25ufrnennj"><shadow type="math_number" id="z1,5MskR6gq75gN01Gm{"><field name="NUM">1</field></shadow><block type="variables_get" id="1o^FU7#`6s}DP)=)]TT#"><field name="VAR" id="#Fqf|`mH5P**wE.WN[?q">STOP_SPEED</field></block></value><value name="7uw55jww6jkktezwwdx0s"><shadow type="math_number" id="+b_4X98/ug0g*VKKnL:6"><field name="NUM">1</field></shadow><block type="variables_get" id="7g)2Xd}g/XYF#1;/%W?="><field name="VAR" id="#Fqf|`mH5P**wE.WN[?q">STOP_SPEED</field></block></value><value name="stfaf64isb17kb1d8esu"><shadow type="math_number" id="@i.2nKzU0x!MV$N=6!9W"><field name="NUM">1</field></shadow><block type="variables_get" id="%HM$/xQymc*%f_27@`ip"><field name="VAR" id="#Fqf|`mH5P**wE.WN[?q">STOP_SPEED</field></block></value><value name="y30fci46a9wdhct1fqza"><shadow type="math_number" id="D.y(ai7`EeG:CbZ)1A0R"><field name="NUM">1</field></shadow><block type="variables_get" id="h61osi^:eY}ZfO3?*}_M"><field name="VAR" id="#Fqf|`mH5P**wE.WN[?q">STOP_SPEED</field></block></value><next><block type="device_show_leds" id="i[!cvsOsn|fXQs^$/o0I"><field name="LEDS">`
        . . . . . 
        . . . . . 
        . # # # . 
        . . . . . 
        . . . . .
        `</field><comment pinned="false" h="80" w="160">顯示停止圖標</comment><next><block type="device_clear_display" id="fW#+~G4v~fF~jg05S]~L"><data>{"commentRefs":[],"fieldData":{}}</data></block></next></block></next></block></statement></block><block type="function_definition" id="`{Xe]zU~31$U;,tOj.Uk" x="3156" y="1731"><mutation name="showError" functionid="+Eh,d!mi2$;M;O0F)BN?"></mutation><field name="function_name">showError</field><comment pinned="false" h="80" w="160">顯示錯誤並停止</comment><statement name="STACK"><block type="device_show_leds" id="aP2OXlV6Gd;4U73Cy,}f"><field name="LEDS">`
        # . . . # 
        . # . # . 
        . . # . . 
        . # . # . 
        # . . . #
        `</field><comment pinned="false" h="80" w="160">顯示錯誤圖標（叉形）</comment><next><block type="device_clear_display" id="^=xRkWrqOYLfPvgU}}V:"><data>{"commentRefs":[],"fieldData":{}}</data><next><block type="function_call" id="E`;Wv5qmsbZ*Ujd7h8SU"><mutation name="stop" functionid="?4+eAizuu$sFlr]hLKqA"></mutation></block></next></block></next></block></statement></block></xml>