<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="$WuyN0)M2d:-lg2FnOnx">FORWARD_SPEED</variable><variable id="#Fqf|`mH5P**wE.WN[?q">STOP_SPEED</variable><variable id="{nWc*,|2(Ee@2L=8{Vsj">state</variable><variable id="_3MF4UULVNf::/JWr~A?">currentTag</variable><variable id="(s,uWcs]|Jw3`J8:B)8D">lastTag</variable><variable id="9_0`Hm-:aNWU/S3o10/v">tagCount</variable><variable id="@{TBf!a#!`Je_-^8HIr!">TAG_STABILITY_COUNT</variable><variable id="fTcMiL|L|.l26fkpgqk6">FORWARD_DURATION</variable><variable id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</variable><variable id="?$+!G38m!|WZx/w`H,SJ">LOOP_INTERVAL</variable></variables><comment id=")7_vEOdBWIn6UDP)1;`]" x="0" y="2346" w="191" h="120">
狀態機：0=等待，1=前進，2=轉彎
</comment><block type="pxt-on-start" id="2~A{Qw|y;.js)o[FYfe]" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="vANPc3.b=}tHX?B/44[b"><field name="VAR" id="$WuyN0)M2d:-lg2FnOnx">FORWARD_SPEED</field><comment pinned="false" h="80" w="160">電機速度常數
前進速度</comment><value name="VALUE"><shadow type="math_number" id="u)YHZ[M`3W75yfl$dW3r"><field name="NUM">150</field></shadow></value><next><block type="variables_set" id="gk@T-/ZwE(RxJ|RmiDdb"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field><comment pinned="false" h="80" w="160">停止速度
轉彎持續時間</comment><value name="VALUE"><shadow type="math_number" id="jX3o7:##gVYP2W(tz.O^"><field name="NUM">1000</field></shadow></value><next><block type="variables_set" id="+xR#kx^+AO6x[4ZpOPi|"><field name="VAR" id="fTcMiL|L|.l26fkpgqk6">FORWARD_DURATION</field><comment pinned="false" h="80" w="160">前進持續時間（毫秒）</comment><value name="VALUE"><shadow type="math_number" id="EA^Fe+|n@.^h[^s39^*@"><field name="NUM">1000</field></shadow></value><next><block type="variables_set" id="+)^Sp5d}|%G#]@n/3,i^"><field name="VAR" id="?$+!G38m!|WZx/w`H,SJ">LOOP_INTERVAL</field><comment pinned="false" h="80" w="160">主循環刷新間隔（毫秒）</comment><value name="VALUE"><shadow type="math_number" id="Szihn,A|HMTb80xR!`?z"><field name="NUM">1000</field></shadow></value><next><block type="variables_set" id=".05)VR(@]cD`63uplVR2"><field name="VAR" id="@{TBf!a#!`Je_-^8HIr!">TAG_STABILITY_COUNT</field><comment pinned="false" h="80" w="160">標籤連續檢測次數</comment><value name="VALUE"><shadow type="math_number" id="X7+4ZQ94(mT]kFh#FEMG"><field name="NUM">2</field></shadow></value><next><block type="basic_show_icon" id=")2+4zaB;sJmLB~:4A(0N"><field name="i">IconNames.Yes</field><comment pinned="false" h="80" w="160">初始化
顯示"對勾"表示初始化成功</comment><next><block type="huskylens_initI2c" id="u|T=N-jJDV6DpqwjSNU4"><comment pinned="false" h="80" w="160">初始化Huskylens的I2C通信</comment><next><block type="huskylens_writeName" id="fk,V0]Ub,:/C!~n5+UZ2"><comment pinned="false" h="80" w="160">設置標籤名稱</comment><value name="id"><shadow type="math_number" id="ww(96J(9#%Jq}z#?hnX]"><field name="NUM">1</field></shadow></value><value name="name"><shadow type="text" id="[bNJ:ODKeW%_]CUnM(1?"><field name="TEXT">Forward</field></shadow></value><next><block type="huskylens_writeName" id="is:USIjF]O!C|L@oQJ!$"><comment pinned="false" h="80" w="160">原地左轉90度</comment><value name="id"><shadow type="math_number" id="vFcLEXFwtHKiDZ;[{GV|"><field name="NUM">2</field></shadow></value><value name="name"><shadow type="text" id=")6Fs#xrI~2.bZ{#3S?bH"><field name="TEXT">Turn Left</field></shadow></value><next><block type="huskylens_writeName" id="zxO6*N@cY})5nFNiF0RB"><comment pinned="false" h="80" w="160">原地右轉90度</comment><value name="id"><shadow type="math_number" id="7lVHoamFv#N|T?,PK`_h"><field name="NUM">3</field></shadow></value><value name="name"><shadow type="text" id="d8lMq?qQNIS-EGH~kf^G"><field name="TEXT">Turn Right</field></shadow></value><next><block type="controls_if" id="xPzP8BxC4M[={-J^HFs0"><data>{"commentRefs":[],"fieldData":{}}</data><value name="IF0"><shadow type="logic_boolean" id="[QzQ1wvTRjV,{s}y+|^3"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id=":5D5|)]FS21gzSiT}SfA"><value name="BOOL"><shadow type="logic_boolean" id=":R^lgq7a;/Iu7tAq-9{I"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="(ajX=Uf6U(tQnG2$G[`5"><field name="EXPRESSION">huskylens.initMode(protocolAlgorithm.OBJECTCLASSIFICATION)</field></block></value></block></value><statement name="DO0"><block type="function_call" id="Jk+z^~FJT?r{$Tm($K1%"><mutation name="showError" functionid="+Eh,d!mi2$;M;O0F)BN?"></mutation><comment pinned="false" h="80" w="160">初始化失敗，顯示錯誤並停止</comment><next><block type="typescript_statement" id="Ul`XRt2up.C.2Wx8=0r7"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="basic.forever(() =&gt; { });" numlines="1"></mutation><comment pinned="false" h="80" w="160">進入空循環，停止程序</comment></block></next></block></statement><next><block type="variables_set" id="Vu`8LuW,bxqX6@Ni_*p="><field name="VAR" id="(s,uWcs]|Jw3`J8:B)8D">lastTag</field><comment pinned="false" h="80" w="160">連續檢測計數器
上次檢測的標籤ID</comment><value name="VALUE"><shadow type="math_number" id="E6wgEuZNkm.L/Y?{Z2#."><field name="NUM">-1</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="-s4=D}ldlweC:H;{G`-T" x="746" y="40"><field name="NAME">Button.A</field><comment pinned="false" h="80" w="160">校準按鈕（用於調整轉彎時間）</comment><statement name="HANDLER"><block type="variables_change" id="uHhRoQ9O/e%[$p0d$z?S"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field><value name="VALUE"><shadow type="math_number" id="Go:mchj:ih$Y=a!{tU5y"><field name="NUM">50</field></shadow></value><next><block type="device_show_number" id="EuG+EVrvS{~5g?mg-1Qc"><value name="number"><block type="variables_get" id="B3JZSG46z)Mw?a}Krzo:"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field></block></value><next><block type="device_clear_display" id="+=4BTJ!@CXj#P~l(=R6Z"></block></next></block></next></block></statement></block><block type="device_button_event" id="ARwY^MLUp{NHj],;[@Y3" x="1206" y="37"><field name="NAME">Button.AB</field><statement name="HANDLER"><block type="function_call" id="XrVve/QwM*q)+?0r!D7H"><mutation name="turnLeft" functionid="?|-~$Q0TUT+9;hSk%;1g"><arg name="duration" id="pr293nj37f0enesamhrw3o" type="number"></arg></mutation><comment pinned="false" h="80" w="160">測試左轉</comment><value name="pr293nj37f0enesamhrw3o"><shadow type="math_number" id="9EFL.J1=?t|oSfZqq^1X"><field name="NUM">1</field></shadow><block type="variables_get" id="`X-~7kVUKn7_E6-#[=$^"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field></block></value><next><block type="device_pause" id="*(f$AQXA6rOD.bD(#e@:"><data>{"commentRefs":[],"fieldData":{}}</data><value name="pause"><shadow type="timePicker" id="KBT*_QMVW$n,?[9{[j#v"><field name="ms">1000</field></shadow></value><next><block type="function_call" id="Hj%Dv2Qd2y7K#~Modn`a"><mutation name="turnRight" functionid="}|CY6gfa8V@Nfeb0*OGH"><arg name="duration" id="8a9ci55145fvbqqb274zll" type="number"></arg></mutation><comment pinned="false" h="80" w="160">測試右轉</comment><value name="8a9ci55145fvbqqb274zll"><shadow type="math_number" id="=}-k$9ttL(?b;Zdts=I;"><field name="NUM">1</field></shadow><block type="variables_get" id="My:Zj=@!x=UKRQ:UaX||"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field></block></value></block></next></block></next></block></statement></block><block type="device_forever" id=",+H|rHnt=smLg2c+[IEm" x="1612" y="47"><comment pinned="false" h="80" w="160">上次檢測的標籤ID
主循環</comment><statement name="HANDLER"><block type="huskylens_request" id="5jA4*.ty@K91{M;vbP]@"><comment pinned="false" h="80" w="160">獲取Huskylens數據</comment><next><block type="controls_if" id="-.j210(I#;|%cs9|9Bcr"><mutation elseif="2"></mutation><comment pinned="false" h="80" w="160">狀態機邏輯</comment><value name="IF0"><shadow type="logic_boolean" id="!TUmuS3rMI(~5S1AF0+C"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="CY5io^jcs.XHHN6:UWk^"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="z^5%Re/I/tJFR)D{u8)Q"><field name="NUM">0</field></shadow><block type="variables_get" id="}[vMiAQ%@N9KemGy9g3i"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field></block></value><value name="B"><shadow type="math_number" id="nK-s;@,=(*h2cE=fxs%~"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="typescript_statement" id="PxXzohJ)^@EitQOku-/f"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let currentTag = huskylens.isAppear(1, HUSKYLENSResultType_t.HUSKYLENSResultBlock) ? 1 :" line1="            huskylens.isAppear(2, HUSKYLENSResultType_t.HUSKYLENSResultBlock) ? 2 :" line2="                huskylens.isAppear(3, HUSKYLENSResultType_t.HUSKYLENSResultBlock) ? 3 : -1;" numlines="3" declaredvars="currentTag"></mutation><next><block type="controls_if" id="|k|8scuAm3iUb{q1zHp}"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">檢查標籤穩定性</comment><value name="IF0"><shadow type="logic_boolean" id="sn0VG}yOb+C{x0=I0Ko5"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="4X46=a`*qqt1PkHub*EP"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="MsHwL%c5!p0n]mP~fa.`"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Ear@yNPwO~Y8|[iXXcmz"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="[w!hnXa~KGH7^rRS;`F!"><field name="NUM">0</field></shadow><block type="variables_get" id=".*_YgT(mk@4/iM@$?hF$"><field name="VAR" id="_3MF4UULVNf::/JWr~A?">currentTag</field></block></value><value name="B"><shadow type="math_number" id="PsoqT)do1H%CSn:GI)mP"><field name="NUM">0</field></shadow><block type="variables_get" id="4{Kbu:(5ny;r7cHJl%;V"><field name="VAR" id="(s,uWcs]|Jw3`J8:B)8D">lastTag</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="QAR8nw_sZ#TX}I0+mcri"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="9e_*+.!^I],WY3qV5X8:"><field name="OP">NEQ</field><value name="A"><shadow type="math_number" id="P,I3H9KR;V0ge,USP*lv"><field name="NUM">0</field></shadow><block type="variables_get" id="l@HH+bs68M?N#`]#Q|A]"><field name="VAR" id="_3MF4UULVNf::/JWr~A?">currentTag</field></block></value><value name="B"><shadow type="math_number" id="Mct2?A-]|q5?ZHN?Dvdf"><field name="NUM">-1</field></shadow></value></block></value></block></value><statement name="DO0"><block type="variables_change" id="GqWJYIzlPk*wEr1N^,X;"><field name="VAR" id="9_0`Hm-:aNWU/S3o10/v">tagCount</field><value name="VALUE"><shadow type="math_number" id=".JcLb;/~OFV5NbYy(TD5"><field name="NUM">1</field></shadow></value><next><block type="controls_if" id="hv_+8/vW!m*E8EN1$i:^"><value name="IF0"><shadow type="logic_boolean" id="h4%c{lnp.{H_b19CBFuS"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="[=~c!xWxGzg2n](D5Nt/"><field name="OP">GTE</field><value name="A"><shadow type="math_number" id="obiAFmXpt{dzckhP]S0P"><field name="NUM">0</field></shadow><block type="variables_get" id="~4jgq{WcZ`Edu)R6ZD-H"><field name="VAR" id="9_0`Hm-:aNWU/S3o10/v">tagCount</field></block></value><value name="B"><shadow type="math_number" id="s^(XqX2@@c!sAlCe2Ei]"><field name="NUM">0</field></shadow><block type="variables_get" id="dIrfHfKy(12uZ#MAz?YU"><field name="VAR" id="@{TBf!a#!`Je_-^8HIr!">TAG_STABILITY_COUNT</field></block></value></block></value><statement name="DO0"><block type="controls_if" id="Dk^%seb.[~~UzIeKKl5m"><mutation elseif="2"></mutation><comment pinned="false" h="80" w="160">穩定檢測到標籤，執行對應動作</comment><value name="IF0"><shadow type="logic_boolean" id="5y=N+hBXFgkKbCx[L*+~"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="p)z~47v?.GPo=Nk;8x%Q"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="@qhq_7_KCpEh/8LKW@Da"><field name="NUM">0</field></shadow><block type="variables_get" id="O|/G-S@/(.-rEw/!D*Qj"><field name="VAR" id="_3MF4UULVNf::/JWr~A?">currentTag</field></block></value><value name="B"><shadow type="math_number" id="9FvpAfAGq[./-bxywGy$"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="Cd@ijk[aDJGkd?Z]Tsv{"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field><value name="VALUE"><shadow type="math_number" id="e(p3^%U7W#K](1[};!U9"><field name="NUM">1</field></shadow></value><next><block type="function_call" id="awyQ8::Y1PBO+TutzS|+"><mutation name="moveForward" functionid="TrL?^A`EcTR*v[n9@^`H"><arg name="duration" id="m26gchjybkr37kmptjmuj" type="number"></arg></mutation><comment pinned="false" h="80" w="160">前進1秒並停止</comment><value name="m26gchjybkr37kmptjmuj"><shadow type="math_number" id="X!/V2%}9t?3C_|gzdB=d"><field name="NUM">1</field></shadow><block type="variables_get" id="v5AV_@Sei9YTRMYQKQ|7"><field name="VAR" id="fTcMiL|L|.l26fkpgqk6">FORWARD_DURATION</field></block></value></block></next></block></statement><value name="IF1"><shadow type="logic_boolean" id=",3_+6eIL_1Y$tvW{~UGU"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=")45I7[?(dOg]l!3]jYz|"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="%X-flXYqgRz@bFSD8W#)"><field name="NUM">0</field></shadow><block type="variables_get" id="t/`W5oPlz7R3,!cn6tJQ"><field name="VAR" id="_3MF4UULVNf::/JWr~A?">currentTag</field></block></value><value name="B"><shadow type="math_number" id="B$PF4a9J]K:JKD?fLRn*"><field name="NUM">2</field></shadow></value></block></value><statement name="DO1"><block type="variables_set" id="R:p,RLfLh_/]ZoZw1Bh."><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field><value name="VALUE"><shadow type="math_number" id="#w/*N,)ZP]tf~IH2A^sh"><field name="NUM">2</field></shadow></value><next><block type="function_call" id="lVf8Rs@.Y)V/SHgd}}tq"><mutation name="turnLeft" functionid="?|-~$Q0TUT+9;hSk%;1g"><arg name="duration" id="pr293nj37f0enesamhrw3o" type="number"></arg></mutation><comment pinned="false" h="80" w="160">原地左轉90度並停止</comment><value name="pr293nj37f0enesamhrw3o"><shadow type="math_number" id="o)Y}}KEkM:R.jF^I`_po"><field name="NUM">1</field></shadow><block type="variables_get" id="5D#55yD{1tLktM1,M?y_"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field></block></value></block></next></block></statement><value name="IF2"><shadow type="logic_boolean" id="]9c]-1bxUF/ddVQ2y29P"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="l)b~[a#jqRd_=c`f4pDa"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="x2%:vKUB$d(-JT`v*T-v"><field name="NUM">0</field></shadow><block type="variables_get" id="ucK0)2N}LV}tBiyR~vdc"><field name="VAR" id="_3MF4UULVNf::/JWr~A?">currentTag</field></block></value><value name="B"><shadow type="math_number" id="tC.^Y=J(REifd)1/bV,7"><field name="NUM">3</field></shadow></value></block></value><statement name="DO2"><block type="variables_set" id=")R7@IQkaQWdEdnUoTeyt"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field><value name="VALUE"><shadow type="math_number" id="kw8HAlMsUBw^a,d+m@22"><field name="NUM">2</field></shadow></value><next><block type="function_call" id="Dv!OR(7t3g[Mn;e.@Nro"><mutation name="turnRight" functionid="}|CY6gfa8V@Nfeb0*OGH"><arg name="duration" id="8a9ci55145fvbqqb274zll" type="number"></arg></mutation><comment pinned="false" h="80" w="160">原地右轉90度並停止</comment><value name="8a9ci55145fvbqqb274zll"><shadow type="math_number" id="Ts9a`%VAyN/[9[,Y{3tM"><field name="NUM">1</field></shadow><block type="variables_get" id="^h.hah@T]f=bCz(BmO0J"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field></block></value></block></next></block></statement><next><block type="variables_set" id="ql6qFj~0)]Dbk9gJGo57"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field><comment pinned="false" h="80" w="160">返回等待狀態</comment><value name="VALUE"><shadow type="math_number" id="9RGSNCpZ*,We_pDcIzU{"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="en`De2wX3i%HKi$6ey$v"><field name="VAR" id="9_0`Hm-:aNWU/S3o10/v">tagCount</field><comment pinned="false" h="80" w="160">重置計數器</comment><value name="VALUE"><shadow type="math_number" id="h1I3wyiMKDZm3=u*K9*B"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="f/zG4VUYTLk~Sj0x=lI@"><field name="VAR" id="(s,uWcs]|Jw3`J8:B)8D">lastTag</field><comment pinned="false" h="80" w="160">重置標籤</comment><value name="VALUE"><shadow type="math_number" id=".DigIJ9Yj!b.9?0o=B}*"><field name="NUM">-1</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></statement><statement name="ELSE"><block type="variables_set" id="Lo]1!O:#`B_Rhg/_4u#9"><field name="VAR" id="9_0`Hm-:aNWU/S3o10/v">tagCount</field><comment pinned="false" h="80" w="160">新標籤，計數從1開始</comment><value name="VALUE"><shadow type="math_number" id=",K70^mXo+]F]$7_[Wl7)"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="7n?nV/%c*8K!3|ET9KXr"><field name="VAR" id="(s,uWcs]|Jw3`J8:B)8D">lastTag</field><data>{"commentRefs":[],"fieldData":{}}</data><value name="VALUE"><shadow type="math_number" id="U;Iuc7KAy?Xta/zkq}#J"><field name="NUM">0</field></shadow><block type="variables_get" id="Q$06UWv:(/l^Ur9+iq=d"><field name="VAR" id="_3MF4UULVNf::/JWr~A?">currentTag</field></block></value><next><block type="function_call" id="2ZiV7Fpja/,ldOdo5qt]"><mutation name="stop" functionid="?4+eAizuu$sFlr]hLKqA"></mutation><comment pinned="false" h="80" w="160">未穩定檢測，保持停止</comment></block></next></block></next></block></statement></block></next></block></statement><value name="IF1"><shadow type="logic_boolean" id=":erhdR(TT_x.mHCgdk.V"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="GI0_,(IaF9r:0qd:YP|M"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="t)OtT;w(J!6q)q0DN$P9"><field name="NUM">0</field></shadow><block type="variables_get" id="C2EGV,#gR$!@mYYL[XyZ"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field></block></value><value name="B"><shadow type="math_number" id="gNccU,gukxrMwstOkX7q"><field name="NUM">1</field></shadow></value></block></value><statement name="DO1"><block type="variables_set" id="wv=/GXbsOQ,4$3$5n1NJ"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field><comment pinned="false" h="80" w="160">前進狀態在moveForward中完成，立即返回狀態0</comment><value name="VALUE"><shadow type="math_number" id="IYH|?M,J%X,%7#L8r.Hm"><field name="NUM">0</field></shadow></value></block></statement><value name="IF2"><shadow type="logic_boolean" id="BPp:^ng#1n/(_Za7t#lZ"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="F-(Cu3YAAedMXj!MmMLt"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="24G0FCxHrni2NNW*$[-n"><field name="NUM">0</field></shadow><block type="variables_get" id="`i9!%twyz?$6K4szAv6T"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field></block></value><value name="B"><shadow type="math_number" id="LV?.mhD`JRMt8;Tk5M{R"><field name="NUM">2</field></shadow></value></block></value><statement name="DO2"><block type="variables_set" id=",rEiQsApzUj[^xC+T:63"><field name="VAR" id="{nWc*,|2(Ee@2L=8{Vsj">state</field><comment pinned="false" h="80" w="160">轉彎狀態在turnLeft或turnRight中完成，立即返回狀態0</comment><value name="VALUE"><shadow type="math_number" id="_PYpz^bd?dtl(9D4u5R@"><field name="NUM">0</field></shadow></value></block></statement><next><block type="device_pause" id="en1#Xz5`2eOQ^9Dw.AyE"><comment pinned="false" h="80" w="160">限制刷新頻率為每秒一次</comment><value name="pause"><shadow type="timePicker" id="6AJVHtM]cSV%uuwA=HPi"><field name="ms">NaN</field></shadow><block type="variables_get" id="7kkh%-G5{uLBQBWBpF!F"><field name="VAR" id="?$+!G38m!|WZx/w`H,SJ">LOOP_INTERVAL</field></block></value></block></next></block></next></block></statement></block><block type="device_button_event" id="d_KJ-7n,G!i9%1R|I;wc" x="761" y="375"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="variables_set" id="xQj/*Gn:^QBIZft/9/8V"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field><value name="VALUE"><shadow type="math_number" id="5w*kpsma-qvU+_GWFMHw"><field name="NUM">0</field></shadow><block type="math_op2" id="#!@/0ef]wW%.iShV|)xo"><field name="op">max</field><value name="x"><shadow type="math_number" id="|We+O:H4_C]:~IDJ+Sj,"><field name="NUM">100</field></shadow></value><value name="y"><block type="math_arithmetic" id="JNNdx;7B(ckN*wCPaaNC"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="%rPi(^hG[He;BfrT5~v;"><field name="NUM">0</field></shadow><block type="variables_get" id=",G*F$k3Kr:QTMOaRittd"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field></block></value><value name="B"><shadow type="math_number" id="t#v5yo+?,~~KI|yV6eX."><field name="NUM">50</field></shadow></value></block></value></block></value><next><block type="device_show_number" id="p@K{d1,52b5.m,guZq)?"><value name="number"><block type="variables_get" id="1RXI0RkY5WOsvJ*n;[vn"><field name="VAR" id=";t6$uV^I`1{bgr-7}3%%">TURN_DURATION</field></block></value><next><block type="device_clear_display" id="`p,~qR2FCi!hl,D:Xt(M"></block></next></block></next></block></statement></block><block type="function_definition" id="sq,eV%SZ?xKtTR6C_?;f" x="0" y="1731"><mutation name="move" functionid="@cM}KgB3t*S;R92v2B_T"><arg name="m1Speed" id="bpeuarhfvp25ufrnennj" type="number"></arg><arg name="m2Speed" id="7uw55jww6jkktezwwdx0s" type="number"></arg><arg name="m3Speed" id="stfaf64isb17kb1d8esu" type="number"></arg><arg name="m4Speed" id="y30fci46a9wdhct1fqza" type="number"></arg></mutation><field name="function_name">move</field><comment pinned="false" h="80" w="160">標籤連續檢測次數
通用移動函數：控制四個電機的速度</comment><value name="bpeuarhfvp25ufrnennj"><block type="argument_reporter_number" id=")QTwKcI;67CGf.yoP,$("><mutation duplicateondrag="true"></mutation><field name="VALUE">m1Speed</field></block></value><value name="7uw55jww6jkktezwwdx0s"><block type="argument_reporter_number" id="FN?|[tq^xcweW6XkFiC1"><mutation duplicateondrag="true"></mutation><field name="VALUE">m2Speed</field></block></value><value name="stfaf64isb17kb1d8esu"><block type="argument_reporter_number" id="D?Fr7yML/^6HC{|fp.[-"><mutation duplicateondrag="true"></mutation><field name="VALUE">m3Speed</field></block></value><value name="y30fci46a9wdhct1fqza"><block type="argument_reporter_number" id="}Di(!BLdBVOsXE.T5y^!"><mutation duplicateondrag="true"></mutation><field name="VALUE">m4Speed</field></block></value><statement name="STACK"><block type="SuperBit_MotorRunDual" id="kO!o?FEt~eRpiO=1;7H]"><field name="motor1">SuperBit.enMotors.M1</field><field name="motor2">SuperBit.enMotors.M2</field><value name="speed1"><shadow type="math_number_minmax" id="n_cZW`5Jl(FWSx_X@_0P"><mutation min="-255" max="255" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="argument_reporter_number" id="15Y5VcF?O$ax*k|u7CvO"><field name="VALUE">m1Speed</field></block></value><value name="speed2"><shadow type="math_number_minmax" id="ZY%Vyv2g4p/:bXEGe]]8"><mutation min="-255" max="255" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="argument_reporter_number" id="p5FOK~iZw:g@;~w$A$8n"><field name="VALUE">m2Speed</field></block></value><next><block type="SuperBit_MotorRunDual" id="[?z(=R/7zdQiVm?(~9+T"><field name="motor1">SuperBit.enMotors.M3</field><field name="motor2">SuperBit.enMotors.M4</field><value name="speed1"><shadow type="math_number_minmax" id="t$KJmxoG@|:nEWF5}13U"><mutation min="-255" max="255" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="argument_reporter_number" id="119m8WZf8L@4Ud)T78/2"><field name="VALUE">m3Speed</field></block></value><value name="speed2"><shadow type="math_number_minmax" id="S7:JFr/-n6sI!]O**BM~"><mutation min="-255" max="255" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="argument_reporter_number" id="cr3Sf7~c#66bbQEuY@gR"><field name="VALUE">m4Speed</field></block></value></block></next></block></statement></block><block type="function_definition" id=";.`.xuSz7--EAPB0J,G3" x="654" y="1731"><mutation name="moveForward" functionid="TrL?^A`EcTR*v[n9@^`H"><arg name="duration" id="m26gchjybkr37kmptjmuj" type="number"></arg></mutation><field name="function_name">moveForward</field><comment pinned="false" h="80" w="160">前進：所有電機以正向速度運行指定時間</comment><value name="m26gchjybkr37kmptjmuj"><block type="argument_reporter_number" id="!v@M!UI!7/;B+]Unx}Y@"><mutation duplicateondrag="true"></mutation><field name="VALUE">duration</field></block></value><statement name="STACK"><block type="function_call" id="nn|e5YGE{T;O~O)#?j]$"><mutation name="move" functionid="@cM}KgB3t*S;R92v2B_T"><arg name="m1Speed" id="bpeuarhfvp25ufrnennj" type="number"></arg><arg name="m2Speed" id="7uw55jww6jkktezwwdx0s" type="number"></arg><arg name="m3Speed" id="stfaf64isb17kb1d8esu" type="number"></arg><arg name="m4Speed" id="y30fci46a9wdhct1fqza" type="number"></arg></mutation><value name="bpeuarhfvp25ufrnennj"><shadow type="math_number" id=",.}S2,]EW*MR7RhZhU]|"><field name="NUM">1</field></shadow><block type="variables_get" id="x)mgl{c^~/o?^!FbcjOi"><field name="VAR" id="$WuyN0)M2d:-lg2FnOnx">FORWARD_SPEED</field></block></value><value name="7uw55jww6jkktezwwdx0s"><shadow type="math_number" id="2z[!O6lmrkp)Lk}83+h_"><field name="NUM">1</field></shadow><block type="variables_get" id="{ETDNMy6X^Iw;k~7R9~p"><field name="VAR" id="$WuyN0)M2d:-lg2FnOnx">FORWARD_SPEED</field></block></value><value name="stfaf64isb17kb1d8esu"><shadow type="math_number" id="[t}b`P|tAm%r,NO38%SE"><field name="NUM">1</field></shadow><block type="variables_get" id="V@ndj+|q:.}*i!+}4%Pt"><field name="VAR" id="$WuyN0)M2d:-lg2FnOnx">FORWARD_SPEED</field></block></value><value name="y30fci46a9wdhct1fqza"><shadow type="math_number" id="5vw47Gaw*N+[8i%rHHik"><field name="NUM">1</field></shadow><block type="variables_get" id=".4@}M0#MK!frAE_Aef_E"><field name="VAR" id="$WuyN0)M2d:-lg2FnOnx">FORWARD_SPEED</field></block></value><next><block type="device_show_leds" id="8LstGiSX;otA(Gr#AEmx"><field name="LEDS">`
        . . # . . 
        . # # # . 
        # . # . # 
        . . # . . 
        . . # . .
        `</field><comment pinned="false" h="80" w="160">顯示前進圖標</comment><next><block type="device_pause" id="qeexD6lmou=FUXKkh]~j"><comment pinned="false" h="80" w="160">持續指定時間</comment><value name="pause"><shadow type="timePicker" id="BCGR~Vdlq]h2%=#o!I9="><field name="ms">NaN</field></shadow><block type="argument_reporter_number" id="$1ei,~P^=6YD2GZ0~ca7"><field name="VALUE">duration</field></block></value><next><block type="function_call" id="A$%UhpoS@6%E.oosC$p@"><mutation name="stop" functionid="?4+eAizuu$sFlr]hLKqA"></mutation><comment pinned="false" h="80" w="160">停止</comment></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="%(?qyUV[Nv!{zGfZ[|r{" x="1523" y="1731"><mutation name="turnLeft" functionid="?|-~$Q0TUT+9;hSk%;1g"><arg name="duration" id="pr293nj37f0enesamhrw3o" type="number"></arg></mutation><field name="function_name">turnLeft</field><comment pinned="false" h="80" w="160">左轉</comment><value name="pr293nj37f0enesamhrw3o"><block type="argument_reporter_number" id="FoMaQGc.(%#g^sem[MEU"><mutation duplicateondrag="true"></mutation><field name="VALUE">duration</field></block></value><statement name="STACK"><block type="function_call" id=":~d%xPi%M[NjX{#_,}$B"><mutation name="move" functionid="@cM}KgB3t*S;R92v2B_T"><arg name="m1Speed" id="bpeuarhfvp25ufrnennj" type="number"></arg><arg name="m2Speed" id="7uw55jww6jkktezwwdx0s" type="number"></arg><arg name="m3Speed" id="stfaf64isb17kb1d8esu" type="number"></arg><arg name="m4Speed" id="y30fci46a9wdhct1fqza" type="number"></arg></mutation><comment pinned="false" h="80" w="160">手動插入速度值</comment><value name="bpeuarhfvp25ufrnennj"><shadow type="math_number" id="])xfq.!};Bmub496UD%n"><field name="NUM">150</field></shadow></value><value name="7uw55jww6jkktezwwdx0s"><shadow type="math_number" id="hdBv(ATq=^}OFxrO6vh2"><field name="NUM">-200</field></shadow></value><value name="stfaf64isb17kb1d8esu"><shadow type="math_number" id="z(XzbwqEi+oPrg5:zttJ"><field name="NUM">150</field></shadow></value><value name="y30fci46a9wdhct1fqza"><shadow type="math_number" id="AR6Ds9f^]JR!}_#8I7*h"><field name="NUM">150</field></shadow></value><next><block type="device_show_leds" id="*-c*0v)VhCn=~=U%G:za"><field name="LEDS">`
        . . # . . 
        . # . . . 
        # # # # # 
        . # . . . 
        . . # . .
        `</field><comment pinned="false" h="80" w="160">顯示左轉圖標</comment><next><block type="device_pause" id="}i|pql3QIqT/hdCj31F2"><comment pinned="false" h="80" w="160">持續指定時間</comment><value name="pause"><shadow type="timePicker" id="7GS~k_v;lHiZ|^]k,yq*"><field name="ms">NaN</field></shadow><block type="argument_reporter_number" id="NUvyVN!6yDR*wIL_9vgY"><field name="VALUE">duration</field></block></value><next><block type="function_call" id="=#f/S|(*u{{lOtI+S^9c"><mutation name="stop" functionid="?4+eAizuu$sFlr]hLKqA"></mutation><comment pinned="false" h="80" w="160">停止</comment></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="F[?J[KKp_3zgVwMBU0Oe" x="1963" y="1731"><mutation name="turnRight" functionid="}|CY6gfa8V@Nfeb0*OGH"><arg name="duration" id="8a9ci55145fvbqqb274zll" type="number"></arg></mutation><field name="function_name">turnRight</field><comment pinned="false" h="80" w="160">右轉</comment><value name="8a9ci55145fvbqqb274zll"><block type="argument_reporter_number" id="i:Oo;s]Y[yKJnV;8(v_u"><mutation duplicateondrag="true"></mutation><field name="VALUE">duration</field></block></value><statement name="STACK"><block type="function_call" id="W~3,wa(ha8PfMHURRb+7"><mutation name="move" functionid="@cM}KgB3t*S;R92v2B_T"><arg name="m1Speed" id="bpeuarhfvp25ufrnennj" type="number"></arg><arg name="m2Speed" id="7uw55jww6jkktezwwdx0s" type="number"></arg><arg name="m3Speed" id="stfaf64isb17kb1d8esu" type="number"></arg><arg name="m4Speed" id="y30fci46a9wdhct1fqza" type="number"></arg></mutation><comment pinned="false" h="80" w="160">手動插入速度值</comment><value name="bpeuarhfvp25ufrnennj"><shadow type="math_number" id="Mzl2oX`Qu!jvI*J!shU:"><field name="NUM">150</field></shadow></value><value name="7uw55jww6jkktezwwdx0s"><shadow type="math_number" id="p8.l#7Za9f:T~n)xg2M-"><field name="NUM">150</field></shadow></value><value name="stfaf64isb17kb1d8esu"><shadow type="math_number" id="i:y1mKS(+7NyHs1xiA{c"><field name="NUM">-200</field></shadow></value><value name="y30fci46a9wdhct1fqza"><shadow type="math_number" id="g_C:n6/O#?q7u5a:TA7Q"><field name="NUM">150</field></shadow></value><next><block type="device_show_leds" id="?03%UVSGtd+a}O3Se1:_"><field name="LEDS">`
        . . # . . 
        . . . # . 
        # # # # # 
        . . . # . 
        . . # . .
        `</field><comment pinned="false" h="80" w="160">顯示右轉圖標</comment><next><block type="device_pause" id="HZTreq,rESQwnbCKvGEF"><comment pinned="false" h="80" w="160">持續指定時間</comment><value name="pause"><shadow type="timePicker" id="ZB+,#0ZQH8LQ|NbaTi(g"><field name="ms">NaN</field></shadow><block type="argument_reporter_number" id="~}D8;sp(Yho9$6?xTqZ0"><field name="VALUE">duration</field></block></value><next><block type="function_call" id="F_:JZA*r$u`n}KG%E1wS"><mutation name="stop" functionid="?4+eAizuu$sFlr]hLKqA"></mutation><comment pinned="false" h="80" w="160">停止</comment></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="!aOx*1E1R3qkKQBQ,Mf)" x="2402" y="1731"><mutation name="stop" functionid="?4+eAizuu$sFlr]hLKqA"></mutation><field name="function_name">stop</field><comment pinned="false" h="80" w="160">停止：所有電機速度設為0</comment><statement name="STACK"><block type="function_call" id=".x58sn;dw!+b$OlOvBT%"><mutation name="move" functionid="@cM}KgB3t*S;R92v2B_T"><arg name="m1Speed" id="bpeuarhfvp25ufrnennj" type="number"></arg><arg name="m2Speed" id="7uw55jww6jkktezwwdx0s" type="number"></arg><arg name="m3Speed" id="stfaf64isb17kb1d8esu" type="number"></arg><arg name="m4Speed" id="y30fci46a9wdhct1fqza" type="number"></arg></mutation><value name="bpeuarhfvp25ufrnennj"><shadow type="math_number" id="*2:+eb-@Q^*6^tw|*!k^"><field name="NUM">1</field></shadow><block type="variables_get" id="~eQK;WiOV/ML1$0mYlLf"><field name="VAR" id="#Fqf|`mH5P**wE.WN[?q">STOP_SPEED</field></block></value><value name="7uw55jww6jkktezwwdx0s"><shadow type="math_number" id="M86*+Qgi98CoY(`+Sj2*"><field name="NUM">1</field></shadow><block type="variables_get" id="U;Pb@um#8I99d@}@i|FX"><field name="VAR" id="#Fqf|`mH5P**wE.WN[?q">STOP_SPEED</field></block></value><value name="stfaf64isb17kb1d8esu"><shadow type="math_number" id="3[2euP`]TQLIr(=0lmaE"><field name="NUM">1</field></shadow><block type="variables_get" id="~5u4cP?f,$@oS`bI(^cg"><field name="VAR" id="#Fqf|`mH5P**wE.WN[?q">STOP_SPEED</field></block></value><value name="y30fci46a9wdhct1fqza"><shadow type="math_number" id="#ed7:jH%oNdzqm9pMB?T"><field name="NUM">1</field></shadow><block type="variables_get" id="xk$:GTS?M.N-e[.b)+8g"><field name="VAR" id="#Fqf|`mH5P**wE.WN[?q">STOP_SPEED</field></block></value><next><block type="device_show_leds" id="Bzg)k[pLcGzM*UM*@A#S"><field name="LEDS">`
        . . . . . 
        . . . . . 
        . # # # . 
        . . . . . 
        . . . . .
        `</field><comment pinned="false" h="80" w="160">顯示停止圖標</comment><next><block type="device_clear_display" id="U6_4D))-u/i`niV2UA3t"><data>{"commentRefs":[],"fieldData":{}}</data></block></next></block></next></block></statement></block><block type="function_definition" id="[7h~TpYKGQjNS2CL5`9#" x="3156" y="1731"><mutation name="showError" functionid="+Eh,d!mi2$;M;O0F)BN?"></mutation><field name="function_name">showError</field><comment pinned="false" h="80" w="160">顯示錯誤並停止</comment><statement name="STACK"><block type="device_show_leds" id="7_btAy4i4mO+qO#00go4"><field name="LEDS">`
        # . . . # 
        . # . # . 
        . . # . . 
        . # . # . 
        # . . . #
        `</field><comment pinned="false" h="80" w="160">顯示錯誤圖標（叉形）</comment><next><block type="device_clear_display" id="*UT9B2gb0C,h:)%Dl}kD"><data>{"commentRefs":[],"fieldData":{}}</data><next><block type="function_call" id="0FR?qaN$|ey+iAk`sd,l"><mutation name="stop" functionid="?4+eAizuu$sFlr]hLKqA"></mutation></block></next></block></next></block></statement></block></xml>